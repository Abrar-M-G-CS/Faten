<!DOCTYPE html>
<html>

<head>
  <title>فَـطِـن - تعلم الاحرف </title>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.13.5"> </script>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/character_learn.css">
  <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>
  <nav class="navbar navbar-light bg-light" style="display: block; scale: 1.15">
    <!-- Titles -->
    <br>
      
    <h1 class="arabic-title arabic-title baloo-bhaijaan-2-unique" style="display: block; color: white;">فَـطِـن</h1>

  </nav>
  <div class="bio">
    <p class="p-home arabic-title baloo-bhaijaan-2-unique">
      .انظر إلى العينة المعطاة وحاول رسمها على اللوحة السوداء بنفسك</p>
  </div>
  <span onclick="loadAudio()"><i class='fas fa-volume-up'></i></span>
  <audio autoplay id="audio">
    <source src="/audio/character/<%= digit %>.mp3" type="audio/mpeg">
  </audio>
  <!-- style="display: flex; justify-content: space-between;" -->
  <div class="img-char">
    <p id="writingDigit" style="font-size: 200%; font-weight: bold; display: none; ">
      <%= digit %>
    </p>
    <img src="/images/characters/<%= digit %>.png">
  </div>
  <!-- style="display: flex; justify-content: space-between;" -->
  <div class="char-text">
    <!-- <p id="writingDigit_text_eng" style="font-size: 200%; font-weight: bold; display: inline;"><%= arb_char %></p> -->
    <p id="writingDigit_text_arb" style="font-size: 200%; font-weight: bold; display: inline;">
      <%= arb_prnc %>
    </p>
  </div>
  <section id="canvas-part">
    <canvas id="main-canvas" width="300" height="300"></canvas>
    <canvas id="small-main-canvas" width="64" height="64"></canvas>
    <canvas id="small-canvas" width="64" height="64"></canvas>
    <div id="prediction" style="line-height: 1.6; "></div>
  </section>
  <div style="padding-left: 1%;">
    <h2 id="label"></h2>
  </div>

  <div class="btn-char-learn">
    <button id="prev">الحرف السابق</button>
    <button id="erase">حذف</button>
    <button id="predict">توقع</button>
    <button id="next">التالي</button>
    <button id="back" onclick="goBack()">خروج</button>
  </div>

  

  <script src="/image_class.js"></script>
  <script src="/predict_character_learn.js"></script>
  <script>

    function goBack() {
      location.href = "/character/learn"
    }
    $(document).ready(function () {
      // console.log($("#writingDigit").text());
      if ($("#writingDigit").text() == 0) {
        $("#prev").hide();
      }
      else if ($("#writingDigit").text() == 27) {
        $("#next").hide();
      }
    });

    $("#next").on('click', function () {
      location.href = `/character/learn?choice=${parseInt($("#writingDigit").text()) + 1}`;
    });

    $("#prev").on('click', function () {
      location.href = `/character/learn?choice=${parseInt($("#writingDigit").text()) - 1}`;
    });

    function loadAudio() {
      document.getElementById('audio').play();
    }

      // document.getElementById('predict').addEventListener('click', give_verdict($("#writingDigit").text()));
  </script>
  <!-- for dropdown -->
  <script>
    /* When the user clicks on the button, 
    toggle between hiding and showing the dropdown content */
    // JavaScript to toggle visibility of dropdowns
function myFunction(value) {
  if (value === 'character') {
    document.getElementById("myDropdown-character").classList.toggle("show");
  } else if (value === 'digit') {
    document.getElementById("myDropdown-digit").classList.toggle("show");
  } else if (value === 'signlanguage') {
    document.getElementById("myDropdown-signlanguage").classList.toggle("show");
  }
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn-character')) {
    var dropdowns = document.getElementsByClassName("dropdown-character");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
  if (!event.target.matches('.dropbtn-digit')) {
    var dropdowns = document.getElementsByClassName("dropdown-digit");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
  if (!event.target.matches('.dropbtn-signlanguage')) { // Ensure correct class name here
    var dropdowns = document.getElementsByClassName("dropdown-signlanguage");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}

    </script>
</body>

</html>